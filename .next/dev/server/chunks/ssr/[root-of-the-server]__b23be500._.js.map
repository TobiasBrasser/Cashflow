{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/tobiasbrasser/Projects/Cashflow/src/pages/index.jsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport MonthlyChart from '../components/charts/MonthlyCashflowChart'\nimport ExpenseCategoryChart from '../components/charts/ExpenseCategoryChart'\n\nconst getMonthKey = (date) => {\n  const d = new Date(date)\n  return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}`\n}\n\nconst formatMonth = (key) => {\n  const [year, month] = key.split('-')\n  return new Date(year, month - 1).toLocaleDateString('de-CH', {\n    month: 'long',\n    year: 'numeric'\n  })\n}\n\nexport default function Home() {\n  const [transactions, setTransactions] = useState([])\n\n  useEffect(() => {\n    const stored =\n      JSON.parse(localStorage.getItem('cashflowr-transactions')) || []\n    setTransactions(stored)\n  }, [])\n\n  const monthlyOverview = transactions.reduce((acc, t) => {\n    const month = getMonthKey(t.date)\n\n    if (!acc[month]) {\n      acc[month] = { income: 0, expense: 0 }\n    }\n\n    if (t.type === 'income') {\n      acc[month].income += t.amount\n    } else {\n      acc[month].expense += t.amount\n    }\n\n    return acc\n  }, {})\n\n  return (\n    <>\n      <h1>Monatsübersicht</h1>\n      <p className=\"text-muted\">\n        Behalte deine Einnahmen und Ausgaben im Überblick.\n      </p>\n\n      <table className=\"table table-bordered mt-4\">\n        <thead>\n          <tr>\n            <th>Monat</th>\n            <th>Einnahmen (CHF)</th>\n            <th>Ausgaben (CHF)</th>\n            <th>Saldo (CHF)</th>\n          </tr>\n        </thead>\n        <tbody>\n          {Object.entries(monthlyOverview).map(([month, data]) => {\n            const saldo = data.income - data.expense\n\n            return (\n              <tr key={month}>\n                <td>{formatMonth(month)}</td>\n                <td className=\"text-success\">\n                  + {data.income.toFixed(2)}\n                </td>\n                <td className=\"text-danger\">\n                  - {data.expense.toFixed(2)}\n                </td>\n                <td className={saldo >= 0 ? 'text-success' : 'text-danger'}>\n                  {saldo.toFixed(2)}\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n      \n      <h3 className=\"mt-5\">Monatlicher Cashflow</h3>\n      <MonthlyChart monthlyData={monthlyOverview} />\n\n      <h3 className=\"mt-5\">Ausgaben nach Kategorien</h3>\n      <ExpenseCategoryChart\n        expenses={transactions.filter(t => t.type === 'expense')}\n      />\n      {transactions.length === 0 && (\n        <div className=\"alert alert-info mt-4\">\n          Noch keine Transaktionen vorhanden.\n        </div>\n      )}\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;;AAIA,MAAM,cAAc,CAAC;IACnB,MAAM,IAAI,IAAI,KAAK;IACnB,OAAO,GAAG,EAAE,WAAW,GAAG,CAAC,EAAE,OAAO,EAAE,QAAQ,KAAK,GAAG,QAAQ,CAAC,GAAG,MAAM;AAC1E;AAEA,MAAM,cAAc,CAAC;IACnB,MAAM,CAAC,MAAM,MAAM,GAAG,IAAI,KAAK,CAAC;IAChC,OAAO,IAAI,KAAK,MAAM,QAAQ,GAAG,kBAAkB,CAAC,SAAS;QAC3D,OAAO;QACP,MAAM;IACR;AACF;AAEe,SAAS;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,+GAAQ,EAAC,EAAE;IAEnD,IAAA,gHAAS,EAAC;QACR,MAAM,SACJ,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,8BAA8B,EAAE;QAClE,gBAAgB;IAClB,GAAG,EAAE;IAEL,MAAM,kBAAkB,aAAa,MAAM,CAAC,CAAC,KAAK;QAChD,MAAM,QAAQ,YAAY,EAAE,IAAI;QAEhC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;YACf,GAAG,CAAC,MAAM,GAAG;gBAAE,QAAQ;gBAAG,SAAS;YAAE;QACvC;QAEA,IAAI,EAAE,IAAI,KAAK,UAAU;YACvB,GAAG,CAAC,MAAM,CAAC,MAAM,IAAI,EAAE,MAAM;QAC/B,OAAO;YACL,GAAG,CAAC,MAAM,CAAC,OAAO,IAAI,EAAE,MAAM;QAChC;QAEA,OAAO;IACT,GAAG,CAAC;IAEJ,qBACE;;0BACE,qKAAC;0BAAG;;;;;;0BACJ,qKAAC;gBAAE,WAAU;0BAAa;;;;;;0BAI1B,qKAAC;gBAAM,WAAU;;kCACf,qKAAC;kCACC,cAAA,qKAAC;;8CACC,qKAAC;8CAAG;;;;;;8CACJ,qKAAC;8CAAG;;;;;;8CACJ,qKAAC;8CAAG;;;;;;8CACJ,qKAAC;8CAAG;;;;;;;;;;;;;;;;;kCAGR,qKAAC;kCACE,OAAO,OAAO,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC,OAAO,KAAK;4BACjD,MAAM,QAAQ,KAAK,MAAM,GAAG,KAAK,OAAO;4BAExC,qBACE,qKAAC;;kDACC,qKAAC;kDAAI,YAAY;;;;;;kDACjB,qKAAC;wCAAG,WAAU;;4CAAe;4CACxB,KAAK,MAAM,CAAC,OAAO,CAAC;;;;;;;kDAEzB,qKAAC;wCAAG,WAAU;;4CAAc;4CACvB,KAAK,OAAO,CAAC,OAAO,CAAC;;;;;;;kDAE1B,qKAAC;wCAAG,WAAW,SAAS,IAAI,iBAAiB;kDAC1C,MAAM,OAAO,CAAC;;;;;;;+BATV;;;;;wBAab;;;;;;;;;;;;0BAIJ,qKAAC;gBAAG,WAAU;0BAAO;;;;;;0BACrB,qKAAC;gBAAa,aAAa;;;;;;0BAE3B,qKAAC;gBAAG,WAAU;0BAAO;;;;;;0BACrB,qKAAC;gBACC,UAAU,aAAa,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;;;;;;YAE/C,aAAa,MAAM,KAAK,mBACvB,qKAAC;gBAAI,WAAU;0BAAwB;;;;;;;;AAM/C"}}]
}